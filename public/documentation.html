<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>myFlix API Documentation</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        line-height: 1.6;
        margin: 0;
        padding: 20px;
        color: #333;
      }
      .container {
        max-width: 1000px;
        margin: 0 auto;
      }
      h1 {
        color: #2c3e50;
        border-bottom: 2px solid #3498db;
        padding-bottom: 10px;
      }
      h2 {
        color: #2980b9;
        margin-top: 30px;
      }
      .endpoint {
        background-color: #f9f9f9;
        border-left: 4px solid #3498db;
        padding: 15px;
        margin: 20px 0;
        border-radius: 0 4px 4px 0;
      }
      .method {
        display: inline-block;
        padding: 3px 10px;
        border-radius: 3px;
        font-weight: bold;
        margin-right: 10px;
      }
      .get {
        background-color: #2ecc71;
        color: white;
      }
      .post {
        background-color: #3498db;
        color: white;
      }
      .put {
        background-color: #f39c12;
        color: white;
      }
      .delete {
        background-color: #e74c3c;
        color: white;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
      }
      th,
      td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
      }
      th {
        background-color: #f2f2f2;
      }
      code {
        background-color: #f0f0f0;
        padding: 2px 5px;
        border-radius: 3px;
        font-family: monospace;
      }
      .response-example {
        background-color: #f5f5f5;
        padding: 10px;
        border-radius: 4px;
        margin-top: 10px;
        overflow-x: auto;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>myFlix API Documentation</h1>
      <p>
        Welcome to the myFlix API documentation. This API provides access to
        information about movies, directors, and genres, as well as user
        management functionality.
      </p>

      <h2>Base URL</h2>
      <p><code>http://localhost:8080/</code></p>

      <h2>API Endpoints</h2>

      <h3>Root</h3>
      <div class="endpoint">
        <div><span class="method get">GET</span> <code>/</code></div>
        <p>Welcome message and basic instructions.</p>
        <p><strong>Response:</strong> Welcome text</p>
      </div>

      <h2>Movie Endpoints</h2>

      <div class="endpoint">
        <div><span class="method get">GET</span> <code>/movies</code></div>
        <p>Get a list of all movies.</p>
        <p><strong>Response:</strong> Array of movie objects</p>
        <div class="response-example">
          <pre>
[
  {
    "Title": "Movie Title",
    "Description": "Movie description...",
    "Genre": {
      "Name": "Drama",
      "Description": "Drama films are serious..."
    },
    "Director": {
      "Name": "Director Name",
      "Bio": "Director bio...",
      "Birth": "1960-01-01",
      "Death": ""
    },
    "Actors": ["Actor 1", "Actor 2"],
    "ImagePath": "image.jpg",
    "Featured": true
  },
  ...
]</pre
          >
        </div>
      </div>

      <div class="endpoint">
        <div>
          <span class="method get">GET</span> <code>/movies/:title</code>
        </div>
        <p>Get data about a single movie by title.</p>
        <p><strong>Parameters:</strong> title (in URL)</p>
        <p><strong>Response:</strong> Movie object</p>
      </div>

      <div class="endpoint">
        <div><span class="method get">GET</span> <code>/genres</code></div>
        <p>Get a list of all genres.</p>
        <p>
          <strong>Response:</strong> Array of genre objects with names and
          descriptions
        </p>
      </div>

      <div class="endpoint">
        <div>
          <span class="method get">GET</span> <code>/genres/:name</code>
        </div>
        <p>Get all movies of a specific genre.</p>
        <p><strong>Parameters:</strong> genre name (in URL)</p>
        <p><strong>Response:</strong> Array of movie objects</p>
      </div>

      <div class="endpoint">
        <div><span class="method get">GET</span> <code>/directors</code></div>
        <p>Get a list of all directors.</p>
        <p><strong>Response:</strong> Array of director objects</p>
      </div>

      <div class="endpoint">
        <div>
          <span class="method get">GET</span> <code>/directors/:name</code>
        </div>
        <p>Get data about a specific director.</p>
        <p><strong>Parameters:</strong> director name (in URL)</p>
        <p>
          <strong>Response:</strong> Director object with bio, birth year, and
          movies
        </p>
      </div>

      <div class="endpoint">
        <div><span class="method get">GET</span> <code>/actors</code></div>
        <p>Get a list of all actors.</p>
        <p><strong>Response:</strong> Array of actor names</p>
      </div>

      <div class="endpoint">
        <div><span class="method get">GET</span> <code>/actresses</code></div>
        <p>Get a list of all actresses.</p>
        <p><strong>Response:</strong> Array of actress names</p>
      </div>

      <h2>User Endpoints</h2>

      <div class="endpoint">
        <div><span class="method get">GET</span> <code>/users</code></div>
        <p>Get a list of all users.</p>
        <p>
          <strong>Response:</strong> Array of user objects (without passwords)
        </p>
      </div>

      <div class="endpoint">
        <div><span class="method post">POST</span> <code>/users</code></div>
        <p>Register a new user.</p>
        <p><strong>Request Body:</strong></p>
        <pre>
{
  "Username": "newuser",
  "Password": "password123",
  "Email": "user@example.com",
  "Name": "New User"
}</pre
        >
        <p><strong>Response:</strong> Created user object</p>
      </div>

      <div class="endpoint">
        <div>
          <span class="method get">GET</span> <code>/users/:username</code>
        </div>
        <p>Get user data by username.</p>
        <p><strong>Parameters:</strong> username (in URL)</p>
        <p><strong>Response:</strong> User object</p>
      </div>

      <div class="endpoint">
        <div>
          <span class="method put">PUT</span> <code>/users/:username</code>
        </div>
        <p>Update user information.</p>
        <p><strong>Parameters:</strong> username (in URL)</p>
        <p>
          <strong>Request Body:</strong> Fields to update (Username, Password,
          Email, Name)
        </p>
        <p><strong>Response:</strong> Updated user object</p>
      </div>

      <div class="endpoint">
        <div>
          <span class="method post">POST</span>
          <code>/users/:username/movies/:movieId</code>
        </div>
        <p>Add a movie to user's favorites.</p>
        <p><strong>Parameters:</strong> username, movieId (in URL)</p>
        <p><strong>Response:</strong> Updated user object</p>
      </div>

      <div class="endpoint">
        <div>
          <span class="method delete">DELETE</span>
          <code>/users/:username/movies/:movieId</code>
        </div>
        <p>Remove a movie from user's favorites.</p>
        <p><strong>Parameters:</strong> username, movieId (in URL)</p>
        <p><strong>Response:</strong> Updated user object</p>
      </div>

      <div class="endpoint">
        <div>
          <span class="method delete">DELETE</span>
          <code>/users/:username</code>
        </div>
        <p>Delete a user account.</p>
        <p><strong>Parameters:</strong> username (in URL)</p>
        <p><strong>Response:</strong> Confirmation message</p>
      </div>

      <h2>Response Status Codes</h2>
      <table>
        <tr>
          <th>Code</th>
          <th>Description</th>
        </tr>
        <tr>
          <td>200</td>
          <td>OK - Success</td>
        </tr>
        <tr>
          <td>201</td>
          <td>Created - Resource created successfully</td>
        </tr>
        <tr>
          <td>400</td>
          <td>Bad Request - Invalid input</td>
        </tr>
        <tr>
          <td>404</td>
          <td>Not Found - Resource not found</td>
        </tr>
        <tr>
          <td>500</td>
          <td>Internal Server Error - Something went wrong on the server</td>
        </tr>
      </table>

      <h2>Example Requests</h2>
      <h3>Get all movies</h3>
      <pre>
fetch('http://localhost:8080/movies')
  .then(response => response.json())
  .then(data => console.log(data));</pre
      >

      <h3>Register a new user</h3>
      <pre>
fetch('http://localhost:8080/users', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    Username: 'newuser',
    Password: 'password123',
    Email: 'user@example.com',
    Name: 'New User'
  })
})
.then(response => response.json())
.then(data => console.log(data));</pre
      >
    </div>
  </body>
</html>

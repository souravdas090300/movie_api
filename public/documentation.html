<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Movie Database API Documentation</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        line-height: 1.6;
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
        color: #333;
      }
      h1,
      h2 {
        color: #2c3e50;
      }
      .endpoint {
        background-color: #f8f9fa;
        border-left: 4px solid #3498db;
        padding: 15px;
        margin: 20px 0;
        border-radius: 0 4px 4px 0;
      }
      .method {
        display: inline-block;
        padding: 3px 10px;
        border-radius: 3px;
        font-weight: bold;
        color: white;
        margin-right: 10px;
      }
      .get {
        background-color: #2ecc71;
      }
      .post {
        background-color: #3498db;
      }
      .put {
        background-color: #f39c12;
      }
      .delete {
        background-color: #e74c3c;
      }
      code {
        background-color: #eee;
        padding: 2px 5px;
        border-radius: 3px;
        font-family: monospace;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
      }
      th,
      td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
      }
      th {
        background-color: #f2f2f2;
      }
    </style>
  </head>
  <body>
    <h1>Movie Database API Documentation</h1>
    <p>
      This API allows you to interact with our movie database containing
      information about films, directors, and user preferences.
    </p>

    <h2>Base URL</h2>
    <p><code>https://api.moviedatabase.com/v1</code></p>

    <h2>Authentication</h2>
    <p>
      All endpoints require authentication via JWT token in the Authorization
      header.
    </p>

    <h2>Movies Endpoints</h2>

    <div class="endpoint">
      <span class="method get">GET</span>
      <strong>/movies</strong>
      <p>Get all movies in the database</p>
      <p><strong>Response:</strong> Array of movie objects</p>
    </div>

    <div class="endpoint">
      <span class="method get">GET</span>
      <strong>/movies/:title</strong>
      <p>Get a specific movie by title</p>
      <p><strong>Parameters:</strong> title (string)</p>
      <p><strong>Response:</strong> Movie object</p>
    </div>

    <div class="endpoint">
      <span class="method get">GET</span>
      <strong>/movies/genre/:genreName</strong>
      <p>Get movies by genre</p>
      <p><strong>Parameters:</strong> genreName (string)</p>
      <p><strong>Response:</strong> Array of movie objects</p>
    </div>

    <div class="endpoint">
      <span class="method get">GET</span>
      <strong>/movies/director/:directorName</strong>
      <p>Get movies by director</p>
      <p><strong>Parameters:</strong> directorName (string)</p>
      <p><strong>Response:</strong> Array of movie objects with director bio</p>
    </div>

    <h2>Users Endpoints</h2>

    <div class="endpoint">
      <span class="method post">POST</span>
      <strong>/users</strong>
      <p>Register a new user</p>
      <p><strong>Request Body:</strong></p>
      <pre>
{
    "username": "string",
    "email": "string",
    "password": "string"
}</pre
      >
      <p>
        <strong>Response:</strong> Newly created user object (without password)
      </p>
    </div>

    <div class="endpoint">
      <span class="method put">PUT</span>
      <strong>/users/:username</strong>
      <p>Update user information</p>
      <p><strong>Parameters:</strong> username (string)</p>
      <p><strong>Request Body:</strong> Fields to update</p>
      <p><strong>Response:</strong> Updated user object</p>
    </div>

    <div class="endpoint">
      <span class="method post">POST</span>
      <strong>/users/:username/favorites</strong>
      <p>Add a movie to user's favorites</p>
      <p><strong>Parameters:</strong> username (string)</p>
      <p><strong>Request Body:</strong></p>
      <pre>
{
    "movieTitle": "string"
}</pre
      >
      <p><strong>Response:</strong> Updated user object</p>
    </div>

    <div class="endpoint">
      <span class="method delete">DELETE</span>
      <strong>/users/:username/favorites/:movieTitle</strong>
      <p>Remove a movie from user's favorites</p>
      <p><strong>Parameters:</strong> username (string), movieTitle (string)</p>
      <p><strong>Response:</strong> Updated user object</p>
    </div>

    <div class="endpoint">
      <span class="method delete">DELETE</span>
      <strong>/users/:username</strong>
      <p>Delete a user account</p>
      <p><strong>Parameters:</strong> username (string)</p>
      <p><strong>Response:</strong> Confirmation message</p>
    </div>

    <h2>Data Structures</h2>

    <h3>Movie Object</h3>
    <table>
      <tr>
        <th>Field</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>title</td>
        <td>String</td>
        <td>Title of the movie</td>
      </tr>
      <tr>
        <td>genre</td>
        <td>String</td>
        <td>Primary genre(s)</td>
      </tr>
      <tr>
        <td>genreDescription</td>
        <td>String</td>
        <td>Description of the genre</td>
      </tr>
      <tr>
        <td>director</td>
        <td>String</td>
        <td>Director's name</td>
      </tr>
      <tr>
        <td>directorBio</td>
        <td>String</td>
        <td>Biography of the director</td>
      </tr>
      <tr>
        <td>actors</td>
        <td>Array</td>
        <td>List of actors</td>
      </tr>
      <tr>
        <td>actresses</td>
        <td>Array</td>
        <td>List of actresses</td>
      </tr>
      <tr>
        <td>releaseYear</td>
        <td>Number</td>
        <td>Year of release</td>
      </tr>
      <tr>
        <td>description</td>
        <td>String</td>
        <td>Plot description</td>
      </tr>
      <tr>
        <td>imdbRating</td>
        <td>Number</td>
        <td>IMDb rating (0-10)</td>
      </tr>
      <tr>
        <td>imageURL</td>
        <td>String</td>
        <td>URL to movie poster</td>
      </tr>
      <tr>
        <td>featured</td>
        <td>Boolean</td>
        <td>Whether movie is featured</td>
      </tr>
    </table>

    <h3>User Object</h3>
    <table>
      <tr>
        <th>Field</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>username</td>
        <td>String</td>
        <td>Unique username</td>
      </tr>
      <tr>
        <td>email</td>
        <td>String</td>
        <td>User's email address</td>
      </tr>
      <tr>
        <td>password</td>
        <td>String</td>
        <td>Hashed password (not returned in responses)</td>
      </tr>
      <tr>
        <td>favoriteMovies</td>
        <td>Array</td>
        <td>List of favorite movie titles</td>
      </tr>
      <tr>
        <td>createdAt</td>
        <td>Date</td>
        <td>Account creation timestamp</td>
      </tr>
      <tr>
        <td>updatedAt</td>
        <td>Date</td>
        <td>Last update timestamp</td>
      </tr>
    </table>

    <h2>Example Requests</h2>

    <h3>Get Movies by Genre</h3>
    <pre>
GET /movies/genre/Science%20Fiction
Headers:
    Authorization: Bearer &lt;your_token&gt;</pre
    >

    <h3>Add Movie to Favorites</h3>
    <pre>
POST /users/johnsmith/favorites
Headers:
    Authorization: Bearer &lt;your_token&gt;
    Content-Type: application/json

Body:
{
    "movieTitle": "Titanic"
}</pre
    >

    <h3>Update Director Bio</h3>
    <pre>
PUT /movies/director/James%20Cameron
Headers:
    Authorization: Bearer &lt;your_token&gt;
    Content-Type: application/json

Body:
{
    "directorBio": "Updated bio text..."
}</pre
    >
  </body>
</html>
